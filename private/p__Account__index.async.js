"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[547],{9700:function(re,P,e){e.d(P,{MU:function(){return F},dd:function(){return z}});var j=e(60522),y=e(64665),I=e(23435),C=e(167),T=e(63372),m=e(49956),E=e(78537),W=e(75171),L=e(84636),B=e(50838),U=e(69514),a=e(41151),g=e(28465),K=e(7162),n=e(35183),N=e(53370),S=e(31648),R=e(6228),u=e(67294);n.D([y.N,I.N,C.N,T.N,m.N,E.N,W.N,L.N,B.N,U.N,a.N,R.N,g.N,K.N]);function z(x){var f=(0,j.Z)(x);(0,u.useEffect)(function(){var c;x.current&&((c=N.JE(x.current))===null||c===void 0||c.resize())},[f])}function F(x,f){(0,u.useEffect)(function(){if(!x.current)return;var c=N.S1(x.current);c.setOption(f);function h(){c==null||c.resize()}return window.addEventListener("resize",h),function(){c.dispose(),window.removeEventListener("resize",h)}},[])}P.ZP=S},4373:function(re,P,e){e.r(P),e.d(P,{default:function(){return N}});var j=e(5574),y=e.n(j),I=e(40411),C=e(89557),T=e(30381),m=e.n(T),E=e(67294),W=e(97857),L=e.n(W),B={"2024-10":{income:11219,expenditure:{total:6462.4,\u98DF\u7269:523.2,\u5916\u5356:250,\u65E5\u7528:624,\u65C5\u884C:3051.2,\u4EA4\u901A:45,\u623F\u79DF:1900,\u7F51\u8D2D:69}},"2024-9":{income:15837,expenditure:{total:11473.8,\u98DF\u7269:452,\u5916\u5356:270,\u65E5\u7528:462,\u65C5\u884C:8079,\u4EA4\u901A:23.4,\u623F\u79DF:1900,\u7F51\u8D2D:253}},"2024-8":{income:12511.9,expenditure:{total:6911.1,\u98DF\u7269:575,\u5916\u5356:515.1,\u65E5\u7528:3606,\u65C5\u884C:0,\u4EA4\u901A:74,\u623F\u79DF:2e3,\u7F51\u8D2D:141}},"2024-7":{income:13e3,expenditure:{total:3852.5,\u98DF\u7269:969.5,\u5916\u5356:306,\u65E5\u7528:43,\u65C5\u884C:0,\u4EA4\u901A:74,\u623F\u79DF:2e3,\u7F51\u8D2D:452}},"2024-6":{income:13051,expenditure:{total:4212,\u98DF\u7269:794,\u5916\u5356:573,\u65E5\u7528:707,\u65C5\u884C:0,\u4EA4\u901A:73,\u623F\u79DF:2e3,\u7F51\u8D2D:65}},"2024-5":{income:13e3,expenditure:{total:4341.9,\u98DF\u7269:916,\u5916\u5356:393,\u65E5\u7528:225,\u65C5\u884C:402,\u4EA4\u901A:77.4,\u623F\u79DF:2e3,\u7F51\u8D2D:328.5}},"2024-4":{income:13075,expenditure:{total:7002.3,\u98DF\u7269:515,\u5916\u5356:496.5,\u65E5\u7528:674,\u65C5\u884C:3102,\u4EA4\u901A:82.8,\u623F\u79DF:2e3,\u7F51\u8D2D:132}},"2024-3":{income:13e3,expenditure:{total:7372.2,\u98DF\u7269:858,\u5916\u5356:219,\u65E5\u7528:136.8,\u65C5\u884C:3118.7,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:1039.7}},"2024-2":{income:15794,expenditure:{total:25785.3,\u98DF\u7269:44.5,\u5916\u5356:712,\u65E5\u7528:20843.3,\u65C5\u884C:1776.5,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:409}},"2024-1":{income:15200,expenditure:{total:5400.5,\u98DF\u7269:581,\u5916\u5356:825.5,\u65E5\u7528:226,\u65C5\u884C:998,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:770}}},U={"2023-12":{income:14900,expenditure:{total:7992.6,\u98DF\u7269:315,\u5916\u5356:998.6,\u65E5\u7528:4064,\u65C5\u884C:245,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:370}},"2023-11":{income:13500,expenditure:{total:4433.4,\u98DF\u7269:468.4,\u5916\u5356:851,\u65E5\u7528:899,\u65C5\u884C:0,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:215}},"2023-10":{income:12500,expenditure:{total:5517.6,\u98DF\u7269:703.9,\u5916\u5356:542.7,\u65E5\u7528:1191,\u65C5\u884C:833,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:247}},"2023-9":{income:12500,expenditure:{total:7357,\u98DF\u7269:543,\u5916\u5356:679,\u65E5\u7528:1669.5,\u65C5\u884C:1882.5,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:583}},"2023-8":{income:12200,expenditure:{total:9266.5,\u98DF\u7269:277.5,\u5916\u5356:967,\u65E5\u7528:2292,\u65C5\u884C:0,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:130}},"2023-7":{income:12600,expenditure:{total:3655,\u98DF\u7269:632.5,\u5916\u5356:558,\u65E5\u7528:56,\u65C5\u884C:0,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:408.5}},"2023-6":{income:12950,expenditure:{total:3892.5,\u98DF\u7269:384,\u5916\u5356:662.5,\u65E5\u7528:659,\u65C5\u884C:0,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:187}},"2023-5":{income:13110,expenditure:{total:3997.9,\u98DF\u7269:605,\u5916\u5356:620.5,\u65E5\u7528:73,\u65C5\u884C:460.4,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:239}},"2023-4":{income:13151,expenditure:{total:5729,\u98DF\u7269:269.5,\u5916\u5356:534,\u65E5\u7528:194.5,\u65C5\u884C:1917,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:814}},"2023-3":{income:13130,expenditure:{total:6635,\u98DF\u7269:506.5,\u5916\u5356:764,\u65E5\u7528:1816.5,\u65C5\u884C:807,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:741}},"2023-2":{income:13073,expenditure:{total:4600.9,\u98DF\u7269:293.4,\u5916\u5356:539.5,\u65E5\u7528:775,\u65C5\u884C:502,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:491}},"2023-1":{income:14434,expenditure:{total:14501.5,\u98DF\u7269:544,\u5916\u5356:894.5,\u65E5\u7528:93,\u65C5\u884C:0,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:10970}}},a=L()(L()({},B),U),g=e(9700),K=e(78957),n=e(85893);function N(){var S=(0,E.useState)(1),R=y()(S,2),u=R[0],z=R[1],F=(0,E.useState)(m()()),x=y()(F,2),f=x[0],c=x[1],h=(0,E.useRef)(null),M=(0,E.useMemo)(function(){for(var o=f.get("year")===m()().get("year"),t=o?m()().get("month")+1:12,s=[["month"]],d=[],r=[],v=0,p=0,ee=0,Y=1;Y<=t;Y++){var le="".concat(f.get("year"),"-").concat(Y);s[0].push(le)}return s[0].forEach(function(l,te){var G,J,H,Q,V,X,D,O,$;if(te!==0){d.push([l,(G=a[l])===null||G===void 0?void 0:G.expenditure.total]),r.push([l,(J=a[l])===null||J===void 0?void 0:J.income]);var ne=(((H=a[l])===null||H===void 0?void 0:H.income)-((Q=a[l])===null||Q===void 0?void 0:Q.expenditure.total)).toFixed(1)-0;v+=isNaN(ne)?0:ne,p+=isNaN((V=a[l])===null||V===void 0?void 0:V.income)?0:(X=a[l])===null||X===void 0?void 0:X.income,ee+=isNaN((D=a[l])===null||D===void 0||(D=D.expenditure)===null||D===void 0?void 0:D.total)?0:(O=a[l])===null||O===void 0||(O=O.expenditure)===null||O===void 0?void 0:O.total;for(var b=Object.keys((($=a[l])===null||$===void 0?void 0:$.expenditure)||[]).splice(1),A=0;A<b.length;A++){var _,oe=((_=a[l])===null||_===void 0?void 0:_.expenditure[b[A]])||0;te===1?s.push([b[A],oe]):s[A+1].push(oe)}}}),{source:s,expenditures:d,incomes:r,totalIncome:p.toFixed(1),totalSurplus:v.toFixed(1),totalExpenditures:ee.toFixed(1)}},[f]),i=M.source,w=M.expenditures,Z=M.incomes,k=M.totalSurplus,ae=M.totalIncome,se=M.totalExpenditures,q=(0,E.useMemo)(function(){return{legend:{},tooltip:{trigger:"axis",confine:!0},dataset:{source:i},xAxis:{type:"category",axisLabel:{formatter:function(t){return t.split(" ").join(`

`)}}},title:{text:i[0][u]+`

`+i.reduce(function(o,t){return o+=typeof t[u]=="number"?t[u]:0},0),left:"center",top:"18%"},yAxis:{gridIndex:0},grid:{top:"55%"},series:i.map(function(o,t){return t===i.length-1?{type:"pie",id:"pie",radius:["20%","30%"],center:["50%","25%"],emphasis:{focus:"self"},label:{formatter:"{b}: {@".concat(i[0][u],"} ({d}%)")},encode:{itemName:i[0][0],value:i[0][u],tooltip:i[0][u]}}:{type:"line",smooth:!0,stack:"Total",areaStyle:{},seriesLayoutBy:"row",emphasis:{focus:"series"}}}).concat(Z[0][1]?[{type:"bar",name:"\u6536\u5165",data:Z,label:{show:!0,position:"top"},barWidth:15,barGap:"20%"},{type:"line",name:"\u82B1\u8D39",label:{show:!0,position:"top"},data:w},{type:"pie",id:"statistic",name:"-",radius:"30%",center:["30%","25%"],data:i.slice(1).map(function(o){var t=[o[0],o.slice(1).reduce(function(r,v){return r+(isNaN(v)?0:v)},0)],s=t[0],d=t[1];return{value:d.toFixed(1),name:s}}),emphasis:{focus:"self"},label:{formatter:"{b}: {@".concat(i[0][u],"} ({d}%)")}}]:[]),dataZoom:[{type:"inside",zoomOnMouseWheel:!0,moveOnMouseWheel:!0,moveOnMouseMove:!0}]}},[i,w,Z,u]);(0,E.useEffect)(function(){if(!h.current)return;var o=g.ZP.init(h.current);o.on("updateAxisPointer",function(s){var d=s.axesInfo[0];if(d){var r=d.value+1;o.setOption({title:{text:i[0][r]+`

`+i.reduce(function(v,p){return v+=typeof p[r]=="number"?p[r]:0},0),left:"center",top:"18%"},series:{id:"pie",label:{formatter:"{b}: {@["+r+"]} ({d}%)"},encode:{value:r,tooltip:r}}})}}),o.setOption(q);function t(){o==null||o.resize()}return window.addEventListener("resize",t),function(){o.dispose(),window.removeEventListener("resize",t)}},[q]);var ie=function(t){var s=t.format("YYYY-M");if(t.clone().unix()<=m()().unix()&&a[s]){var d,r,v,p=(((d=a[s])===null||d===void 0?void 0:d.income)-((r=a[s])===null||r===void 0||(r=r.expenditure)===null||r===void 0?void 0:r.total)).toFixed(1);return(0,n.jsxs)("ul",{style:{listStyleType:"none"},children:[(0,n.jsx)("li",{children:(0,n.jsx)(I.Z,{status:"success",text:"\u{1F911}\uFF1A".concat((v=a[s])===null||v===void 0?void 0:v.income)})}),(0,n.jsx)("li",{children:(0,n.jsx)(I.Z,{status:"error",text:"\u{1F608}\uFF1A".concat(a[s].expenditure.total)})}),(0,n.jsx)("li",{style:{color:p>0?"green":"red"},children:p})]})}return null};return(0,n.jsxs)("div",{className:"account",children:[(0,n.jsx)("br",{}),(0,n.jsxs)(K.Z,{size:"large",children:["\xA0 \xA0 \xA0",(0,n.jsxs)("span",{children:["+ ",ae]}),(0,n.jsxs)("span",{children:["- ",se]}),(0,n.jsx)("span",{style:{color:+k>0?"green":"red"},children:k})]}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)(C.Z,{mode:"year",onChange:c,cellRender:ie,onSelect:function(t){return z((t==null?void 0:t.month())+1)},disabledDate:function(t){return t.clone().unix()>m()().unix()}}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("div",{ref:h,className:"statistic",style:{width:"100%",height:500}})]})}}}]);
