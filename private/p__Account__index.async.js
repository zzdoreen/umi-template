"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[547],{9700:function(w,h,e){e.d(h,{MU:function(){return I},dd:function(){return g}});var C=e(60522),O=e(64665),P=e(23435),T=e(167),W=e(63372),p=e(49956),E=e(78537),B=e(75171),A=e(84636),j=e(50838),U=e(69514),s=e(41151),K=e(28465),n=e(7162),N=e(35183),y=e(53370),L=e(31648),c=e(6228),R=e(67294);N.D([O.N,P.N,T.N,W.N,p.N,E.N,B.N,A.N,j.N,U.N,s.N,c.N,K.N,n.N]);function g(l){var D=(0,C.Z)(l);(0,R.useEffect)(function(){var a;l.current&&((a=y.JE(l.current))===null||a===void 0||a.resize())},[D])}function I(l,D){(0,R.useEffect)(function(){if(!l.current)return;var a=y.S1(l.current);a.setOption(D);function m(){a==null||a.resize()}return window.addEventListener("resize",m),function(){a.dispose(),window.removeEventListener("resize",m)}},[])}h.ZP=L},4373:function(w,h,e){e.r(h),e.d(h,{default:function(){return N}});var C=e(5574),O=e.n(C),P=e(40411),T=e(89557),W=e(30381),p=e.n(W),E=e(67294),B=e(97857),A=e.n(B),j={"2024-9":{income:15837,expenditure:{total:11473.8,\u98DF\u7269:452,\u5916\u5356:270,\u65E5\u7528:462,\u65C5\u884C:8079,\u4EA4\u901A:23.4,\u623F\u79DF:1900,\u7F51\u8D2D:253}},"2024-8":{income:12511.9,expenditure:{total:6911.1,\u98DF\u7269:575,\u5916\u5356:515.1,\u65E5\u7528:3606,\u65C5\u884C:0,\u4EA4\u901A:74,\u623F\u79DF:2e3,\u7F51\u8D2D:141}},"2024-7":{income:13e3,expenditure:{total:3852.5,\u98DF\u7269:969.5,\u5916\u5356:306,\u65E5\u7528:43,\u65C5\u884C:0,\u4EA4\u901A:74,\u623F\u79DF:2e3,\u7F51\u8D2D:452}},"2024-6":{income:13051,expenditure:{total:4212,\u98DF\u7269:794,\u5916\u5356:573,\u65E5\u7528:707,\u65C5\u884C:0,\u4EA4\u901A:73,\u623F\u79DF:2e3,\u7F51\u8D2D:65}},"2024-5":{income:13e3,expenditure:{total:4341.9,\u98DF\u7269:916,\u5916\u5356:393,\u65E5\u7528:225,\u65C5\u884C:402,\u4EA4\u901A:77.4,\u623F\u79DF:2e3,\u7F51\u8D2D:328.5}},"2024-4":{income:13075,expenditure:{total:7002.3,\u98DF\u7269:515,\u5916\u5356:496.5,\u65E5\u7528:674,\u65C5\u884C:3102,\u4EA4\u901A:82.8,\u623F\u79DF:2e3,\u7F51\u8D2D:132}},"2024-3":{income:13e3,expenditure:{total:7372.2,\u98DF\u7269:858,\u5916\u5356:219,\u65E5\u7528:136.8,\u65C5\u884C:3118.7,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:1039.7}},"2024-2":{income:15794,expenditure:{total:25785.3,\u98DF\u7269:44.5,\u5916\u5356:712,\u65E5\u7528:20843.3,\u65C5\u884C:1776.5,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:409}},"2024-1":{income:15200,expenditure:{total:5400.5,\u98DF\u7269:581,\u5916\u5356:825.5,\u65E5\u7528:226,\u65C5\u884C:998,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:770}}},U={"2023-12":{income:14900,expenditure:{total:7992.6,\u98DF\u7269:315,\u5916\u5356:998.6,\u65E5\u7528:4064,\u65C5\u884C:245,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:370}},"2023-11":{income:13500,expenditure:{total:4433.4,\u98DF\u7269:468.4,\u5916\u5356:851,\u65E5\u7528:899,\u65C5\u884C:0,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:215}},"2023-10":{income:12500,expenditure:{total:5517.6,\u98DF\u7269:703.9,\u5916\u5356:542.7,\u65E5\u7528:1191,\u65C5\u884C:833,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:247}},"2023-9":{income:12500,expenditure:{total:7357,\u98DF\u7269:543,\u5916\u5356:679,\u65E5\u7528:1669.5,\u65C5\u884C:1882.5,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:583}},"2023-8":{income:12200,expenditure:{total:9266.5,\u98DF\u7269:277.5,\u5916\u5356:967,\u65E5\u7528:2292,\u65C5\u884C:0,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:130}},"2023-7":{income:12600,expenditure:{total:3655,\u98DF\u7269:632.5,\u5916\u5356:558,\u65E5\u7528:56,\u65C5\u884C:0,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:408.5}},"2023-6":{income:12950,expenditure:{total:3892.5,\u98DF\u7269:384,\u5916\u5356:662.5,\u65E5\u7528:659,\u65C5\u884C:0,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:187}},"2023-5":{income:13110,expenditure:{total:3997.9,\u98DF\u7269:605,\u5916\u5356:620.5,\u65E5\u7528:73,\u65C5\u884C:460.4,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:239}},"2023-4":{income:13151,expenditure:{total:5729,\u98DF\u7269:269.5,\u5916\u5356:534,\u65E5\u7528:194.5,\u65C5\u884C:1917,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:814}},"2023-3":{income:13130,expenditure:{total:6635,\u98DF\u7269:506.5,\u5916\u5356:764,\u65E5\u7528:1816.5,\u65C5\u884C:807,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:741}},"2023-2":{income:13073,expenditure:{total:4600.9,\u98DF\u7269:293.4,\u5916\u5356:539.5,\u65E5\u7528:775,\u65C5\u884C:502,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:491}},"2023-1":{income:14434,expenditure:{total:14501.5,\u98DF\u7269:544,\u5916\u5356:894.5,\u65E5\u7528:93,\u65C5\u884C:0,\u4EA4\u901A:0,\u623F\u79DF:2e3,\u7F51\u8D2D:10970}}},s=A()(A()({},j),U),K=e(9700),n=e(85893);function N(){var y=(0,E.useState)(1),L=O()(y,2),c=L[0],R=L[1],g=(0,E.useState)(p()()),I=O()(g,2),l=I[0],D=I[1],a=(0,E.useRef)(null),m=(0,E.useMemo)(function(){for(var o=l.get("year")===p()().get("year"),t=o?p()().get("month")+1:12,i=[["month"]],d=[],r=[],x=0,v=1;v<=t;v++){var q="".concat(l.get("year"),"-").concat(v);i[0].push(q)}return i[0].forEach(function(f,$){var z,F,Z,Y,G;if($!==0){d.push([f,(z=s[f])===null||z===void 0?void 0:z.expenditure.total]),r.push([f,(F=s[f])===null||F===void 0?void 0:F.income]);var b=(((Z=s[f])===null||Z===void 0?void 0:Z.income)-((Y=s[f])===null||Y===void 0?void 0:Y.expenditure.total)).toFixed(1)-0;x+=isNaN(b)?0:b;for(var J=Object.keys(((G=s[f])===null||G===void 0?void 0:G.expenditure)||[]).splice(1),M=0;M<J.length;M++){var H,_=((H=s[f])===null||H===void 0?void 0:H.expenditure[J[M]])||0;$===1?i.push([J[M],_]):i[M+1].push(_)}}}),{source:i,expenditures:d,incomes:r,totalSurplus:x.toFixed(1)}},[l]),u=m.source,Q=m.expenditures,S=m.incomes,V=m.totalSurplus,X=(0,E.useMemo)(function(){return{legend:{},tooltip:{trigger:"axis",confine:!0},dataset:{source:u},xAxis:{type:"category",axisLabel:{formatter:function(t){return t.split(" ").join(`

`)}}},title:{text:u[0][c]+`

`+u.reduce(function(o,t){return o+=typeof t[c]=="number"?t[c]:0},0),left:"center",top:"18%"},yAxis:{gridIndex:0},grid:{top:"55%"},series:u.map(function(o,t){return t===u.length-1?{type:"pie",id:"pie",radius:["20%","30%"],center:["50%","25%"],emphasis:{focus:"self"},label:{formatter:"{b}: {@".concat(u[0][c],"} ({d}%)")},encode:{itemName:u[0][0],value:u[0][c],tooltip:u[0][c]}}:{type:"line",smooth:!0,stack:"Total",areaStyle:{},seriesLayoutBy:"row",emphasis:{focus:"series"}}}).concat(S[0][1]?[{type:"bar",name:"\u6536\u5165",data:S,label:{show:!0,position:"top"},barWidth:15,barGap:"20%"},{type:"line",name:"\u82B1\u8D39",label:{show:!0,position:"top"},data:Q}]:[]),dataZoom:[{type:"inside",zoomOnMouseWheel:!0,moveOnMouseWheel:!0,moveOnMouseMove:!0}]}},[u,Q,S,c]);(0,E.useEffect)(function(){if(!a.current)return;var o=K.ZP.init(a.current);o.on("updateAxisPointer",function(i){var d=i.axesInfo[0];if(d){var r=d.value+1;o.setOption({title:{text:u[0][r]+`

`+u.reduce(function(x,v){return x+=typeof v[r]=="number"?v[r]:0},0),left:"center",top:"18%"},series:{id:"pie",label:{formatter:"{b}: {@["+r+"]} ({d}%)"},encode:{value:r,tooltip:r}}})}}),o.setOption(X);function t(){o==null||o.resize()}return window.addEventListener("resize",t),function(){o.dispose(),window.removeEventListener("resize",t)}},[X]);var k=function(t){var i=t.format("YYYY-M");if(t.clone().unix()<=p()().unix()&&s[i]){var d,r,x,v=(((d=s[i])===null||d===void 0?void 0:d.income)-((r=s[i])===null||r===void 0||(r=r.expenditure)===null||r===void 0?void 0:r.total)).toFixed(1);return(0,n.jsxs)("ul",{style:{listStyleType:"none"},children:[(0,n.jsx)("li",{children:(0,n.jsx)(P.Z,{status:"success",text:"\u{1F911}\uFF1A".concat((x=s[i])===null||x===void 0?void 0:x.income)})}),(0,n.jsx)("li",{children:(0,n.jsx)(P.Z,{status:"error",text:"\u{1F608}\uFF1A".concat(s[i].expenditure.total)})}),(0,n.jsx)("li",{style:{color:v>0?"green":"red"},children:v})]})}return null};return(0,n.jsxs)("div",{className:"account",children:[(0,n.jsx)("br",{}),"\xA0 \xA0 \xA0 \u4F59\u989D\uFF1A",(0,n.jsx)("span",{style:{color:+V>0?"green":"red"},children:V}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)(T.Z,{mode:"year",onChange:D,cellRender:k,onSelect:function(t){return R((t==null?void 0:t.month())+1)},disabledDate:function(t){return t.clone().unix()>p()().unix()}}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("div",{ref:a,className:"statistic",style:{width:"100%",height:500}})]})}}}]);
